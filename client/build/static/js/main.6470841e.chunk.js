(this.webpackJsonpspb=this.webpackJsonpspb||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/SPBRetroSlantAcross1382x120.b0d88454.png"},29:function(e,t,a){e.exports=a(43)},37:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),i=a(22),s=a(14),o=a(8),u=a(2),m=r.a.createContext({id:"",cuisine:[],excludeCuisine:[],diet:[],intolerances:[],includeIngredients:[],excludeIngredients:[],recipes:[],savedRecipes:[],activeRecipe:0,activePage:""}),d=a(4),f=a(17),h=a.n(f),E=(a(37),function(e){var t=e.children;return r.a.createElement("section",{className:"App hero is-success is-fullheight",style:{backgroundColor:"var(--lgreen)"}},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},t)))}),g=a(18),p=a.n(g),b=a(26),v=a(1),N=function(e){return e.map((function(e){return{name:e.name,amount:e.amount.toFixed(1),unit:e.unitShort}}))},j=function(e){return[].concat(Object(v.a)(x(e)),Object(v.a)(y(e)))},y=function(e){return N(e.missedIngredients)},x=function(e){return N(e.usedIngredients)},k=function(e){return N(e.unusedIngredients)},O=function(e){return e.nutrition.nutrients.map((function(e){return{name:e.title,amount:e.amount.toFixed(0),unit:e.unit,dv:e.percentOfDailyNeeds.toFixed(0)}}))},I=function(e){return e.analyzedInstructions?e.analyzedInstructions[0].steps.map((function(e){return e.step})):[]},C=function(e){return{id:e.id,name:e.title,prepTime:e.preparationMinutes,cookTime:e.cookingMinutes,url:e.sourceUrl,image:e.image}},S=function(e){return{information:C(e),instructions:I(e),nutrients:O(e),missedIngredients:y(e),usedIngredients:x(e),unusedIngredients:k(e),allIngredients:j(e)}},w=function(e){var t=e.submitHandler;return r.a.createElement("form",{className:"field has-addons",onSubmit:t},r.a.createElement("input",{className:"input",type:"text",placeholder:"Ingredients"}),r.a.createElement("button",{className:"add-button"},"Add"))},R=a(44),T=function(e){var t=e.children;return r.a.createElement("div",{className:"container",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",flexDirection:"row"}},t)},P=function(e){var t=e.items,a=e.onClickHandler,n={margin:"0.2em"};return r.a.createElement(T,null,t.map((function(e){return r.a.createElement("button",{key:Object(R.a)(),className:"button",onClick:a,style:n},e)})))},F=function(e){var t=e.dispatch,a=e.id,c=e.src,l=e.alt,i=e.title,s=e.prepTime,u=e.cookTime,f=Object(d.b)().isAuthenticated,h=Object(n.useContext)(m),E=h.activePage,g=h.recipes,p=h.savedRecipes;return r.a.createElement("div",{className:"card card-modify",style:{margin:"0.5em",background:"#222222",color:"var(--dgreen)",padding:"1px",borderRadius:"3px"}},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{src:c,alt:l}))),r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title is-centered"},i)),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Prep ",r.a.createElement("i",{className:"fas fa-clock"})," : ",s," min"),r.a.createElement("p",null,"Cook ",r.a.createElement("i",{className:"fas fa-clock"})," : ",u," min"))),r.a.createElement("footer",{className:"card-foot"},r.a.createElement(o.b,{to:"/details",className:"moreButton button is-fullwidth",onClick:function(){return t({activeRecipe:a})}},"Details"),"search"===E?r.a.createElement("button",{className:"save-button button is-fullwidth",onClick:function(){var e=[].concat(Object(v.a)(g),Object(v.a)(p)).filter((function(e){return e.information.id===a}))[0];t({savedRecipes:[].concat(Object(v.a)(p),[e])})}},"Save"):"library"===E?r.a.createElement("button",{className:"delete-button button is-fullwidth",onClick:function(){f&&t({savedRecipes:p.filter((function(e){return e.information.id!==a}))})}},"Delete"):null))},A=function(e){var t=e.dispatch,a=e.recipes;return r.a.createElement(T,null,a.map((function(e){var a=e.information;return r.a.createElement(F,{key:Object(R.a)(),dispatch:t,id:a.id,src:a.image,alt:a.name,title:a.name,prepTime:a.prepTime,cookTime:a.cookTime})})))},D=a(21),G=a.n(D),W=function(){Object(d.b)().loginWithRedirect;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"landingtext"},"Welcome to SUPER PANTRY BUDDY!!!"),r.a.createElement("h2",{className:"landingtext"},"To get started, click the ",r.a.createElement("i",{className:"fas fa-sign-in-alt tabicon","aria-hidden":"true"})," on the bottom right of the screen to login and get started!!!"))},B=a(28),H=a.n(B),M=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("figure",{className:"headerImageSPB"},r.a.createElement("img",{src:H.a,alt:"super pantry buddy logo"})))},J=function(e){var t=e.dispatch,a=Object(d.b)().isAuthenticated,c=Object(n.useContext)(m),l=c.cuisine,i=c.excludeCuisine,o=c.diet,u=c.intolerances,f=c.includeIngredients,h=c.excludeIngredients,E=c.recipes,g=Object(n.useState)(6),N=Object(s.a)(g,2),j=N[0],y=N[1];Object(n.useEffect)((function(){return t({activePage:"search"})}),[]);var x=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getRecipes"),console.log("cuisine",l),e.next=4,G()("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cuisine:l.join(),excludeCuisine:i.join(),diet:o.join(),intolerances:u.join(),includeIngredients:f.join(),excludeIngredients:h.join(),number:6,instructionsRequired:!0,fillIngredients:!0,addRecipeInformation:!0,addRecipeNutrition:!0,ignorePantry:!0})}).then((function(e){console.log(e),e.json()})).then((function(e){return console.log(e),e})).then((function(e){var a=e.results;console.log(a),t({recipes:a.map((function(e){return S(e)}))})})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("h6",null,"Type in the ingredients you have on hand to find recipes that work for you! Use the Details and Save buttons to take a closer look or save the recipe to your library!"),r.a.createElement("br",null),r.a.createElement(w,{submitHandler:function(e){e.preventDefault(),t({includeIngredients:Object(v.a)(new Set([].concat(Object(v.a)(f),Object(v.a)(e.target.firstChild.value.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e}))))))}),e.target.firstChild.value=""}}),r.a.createElement("h6",null,"Once you add ingredients, you can click to delete them or click Get Recipes to start cooking!"),r.a.createElement(P,{items:f,onClickHandler:function(e){t({includeIngredients:f.filter((function(t){return t!==e.target.innerText}))})}}),r.a.createElement("button",{className:"moreButton button is-fullwidth",onClick:x},"Get Recipes"),r.a.createElement(A,{dispatch:t,recipes:E}),E.length>0?r.a.createElement("button",{className:"moreButton button is-fullwidth",onClick:function(){y(j+6),G()("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cuisine:l.join(),excludeCuisine:i.join(),diet:o.join(),intolerances:u.join(),includeIngredients:f.join(),excludeIngredients:h.join(),number:6,offset:j,instructionsRequired:!0,fillIngredients:!0,addRecipeInformation:!0,addRecipeNutrition:!0,ignorePantry:!0})}).then((function(e){return e.json()})).then((function(e){var a=e.results;return t({recipes:[].concat(Object(v.a)(E),Object(v.a)(a.map((function(e){return S(e)}))))})})).catch((function(e){return console.log(e)}))}},"Get More Recipes"):null):r.a.createElement(W,null))},U=function(){var e=Object(d.b)(),t=e.loginWithRedirect,a=e.isAuthenticated;e.logout;return r.a.createElement("div",{className:"navbar is-fixed-bottom",style:{backgroundColor:"#284d1d"}},r.a.createElement("div",{className:"tabs navtabs is-boxed is-fullwidth"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"./search"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))),r.a.createElement("li",null,r.a.createElement(o.b,{to:"./library"},r.a.createElement("i",{className:"fa fa-list","aria-hidden":"true"}))),r.a.createElement("li",null,r.a.createElement(o.b,{to:"./settings"},r.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"}))),r.a.createElement("li",null,a?r.a.createElement(o.b,{to:"./search"},r.a.createElement("i",{className:"fas fa-sign-out-alt","aria-hidden":"true"})):r.a.createElement(o.b,{to:"./search",onClick:function(){return t()}},r.a.createElement("i",{className:"fas fa-sign-in-alt","aria-hidden":"true"}))))))},V=function(e){var t=e.dispatch,a=Object(n.useContext)(m).savedRecipes;Object(n.useEffect)((function(){return t({activePage:"library"})}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),a.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center",fontSize:"larger"}},"Saved Recipes"),r.a.createElement("br",null),r.a.createElement(A,{dispatch:t,recipes:a})):r.a.createElement(r.a.Fragment,null," ",r.a.createElement("h1",{className:"h1Library"},"There is nothing in your library!!!"),r.a.createElement("br",null),r.a.createElement("h3",{className:"h3Library"},"Easy as 1, 2, 3 to start saving recipes in your library:",r.a.createElement("br",null),r.a.createElement("br",null),"1) Login"," ",r.a.createElement("i",{className:"fas fa-sign-in-alt tabicon","aria-hidden":"true"}),r.a.createElement("br",null),"2) Search"," ",r.a.createElement("i",{className:"fa fa-search tabicon","aria-hidden":"true"}),r.a.createElement("br",null),"3) Save"," ",r.a.createElement("span",{className:"tag tagicon is-medium"},"Save"),r.a.createElement("br",null))))},z=function(e){var t=e.text,a=e.onChangeHandler,n=e.checked;return r.a.createElement("label",{className:"checkbox",style:{margin:"0.4em"}},r.a.createElement("input",{type:"checkbox",value:t,checked:n,onChange:a}),t)},L=function(e){var t=e.dispatch,a=Object(d.b)().isAuthenticated,c=Object(n.useContext)(m),l=c.excludeIngredients,i=c.excludeCuisine,s=c.intolerances,o=c.diet,u=function(e){e.target.checked?t({intolerances:[].concat(Object(v.a)(s),[e.target.value])}):t({intolerances:s.filter((function(t){return t!==e.target.value}))})},f=function(e){e.target.checked?t({diet:[].concat(Object(v.a)(o),[e.target.value])}):t({diet:o.filter((function(t){return t!==e.target.value}))})},h=function(e){e.target.checked?t({excludeCuisine:[].concat(Object(v.a)(i),[e.target.value])}):t({excludeCuisine:i.filter((function(t){return t!==e.target.value}))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Select or enter the items below to either exclude any food intolerances, cuisines, or ingredients, and select a diet if you like. All information will be stored in your settings for future searches until you decide to change them."),r.a.createElement("label",{className:"label has-text-centered"},"Food Intolerances"),r.a.createElement(T,null,["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"].map((function(e){return r.a.createElement(z,{key:Object(R.a)(),text:e,onChangeHandler:u,checked:!!s.includes(e)})})))," ",r.a.createElement("label",{className:"label has-text-centered"},"Must Fit These Diets"),r.a.createElement(T,null,["Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Whole30"].map((function(e){return r.a.createElement(z,{key:Object(R.a)(),text:e,onChangeHandler:f,checked:!!o.includes(e)})})))," ",r.a.createElement("label",{className:"label has-text-centered"},"exclude Cuisine"),r.a.createElement(T,null,["African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"].map((function(e){return r.a.createElement(z,{key:Object(R.a)(),text:e,onChangeHandler:h,checked:!!i.includes(e)})}))),r.a.createElement("label",{className:"label has-text-centered"},"exclude Ingredients"),r.a.createElement(w,{submitHandler:function(e){e.preventDefault(),t({excludeIngredients:Object(v.a)(new Set([].concat(Object(v.a)(l),Object(v.a)(e.target.firstChild.value.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e}))))))}),e.target.firstChild.value=""}}),r.a.createElement(P,{items:l,onClickHandler:function(e){t({excludeIngredients:l.filter((function(t){return t!==e.target.innerText}))})}})):r.a.createElement(W,null))},Y=function(){var e=Object(n.useContext)(m),t=e.recipes,a=e.savedRecipes,c=e.activeRecipe,l=[].concat(Object(v.a)(t),Object(v.a)(a)).filter((function(e){return e.information.id===c}))[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"REcipe Details"),r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-8"},r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"tile is-parent is-vertical"},r.a.createElement("article",{className:"tile is-child notification tileStyles"},r.a.createElement("p",{className:"title"},"Nutrition Facts:",l.nutrients.map((function(e){return r.a.createElement("span",{key:Object(R.a)(),class:"tags has-addons"},r.a.createElement("span",{class:"tag is-dark"},e.name),r.a.createElement("span",{class:"tag is-info"},e.amount," ",e.unit))})))),r.a.createElement("article",{className:"tile is-child notification"},r.a.createElement("div",{class:"title field is-grouped is-grouped-multiline"},"Missing Ingredients:",r.a.createElement("div",{class:"control"},l.usedIngredients.map((function(e){return r.a.createElement("span",{key:Object(R.a)(),class:"tags has-addons"},r.a.createElement("span",{class:"tag is-dark"},e.name),r.a.createElement("span",{class:"tag is-info"},e.amount," ",e.unit))})))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("article",{className:"tile is-child notification"},r.a.createElement("p",{className:"title"},"Middle tile"),r.a.createElement("p",{className:"subtitle"},"With an image"),r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:"https://bulma.io/images/placeholders/640x480.png"}))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("article",{className:"tile is-child notification"},r.a.createElement("p",{className:"title"},"Wide tile"),r.a.createElement("p",{className:"subtitle"},"Aligned with the right tile"),r.a.createElement("div",{className:"content"})))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("article",{className:"tile is-child notification"},r.a.createElement("div",{className:"content"},r.a.createElement("p",{className:"title"},"Tall tile"),r.a.createElement("p",{className:"subtitle"},"With even more content"),r.a.createElement("div",{className:"content"}))))),r.a.createElement("br",null),l.usedIngredients.length>0?r.a.createElement(T,null,r.a.createElement("table",{className:"table is-fullwidth is-striped is-hoverable"},r.a.createElement("thead",{className:"is-12 is-fullwidth "},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",className:"is-12"},"Included Ingredients"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount")),r.a.createElement("div",{class:"field is-grouped is-grouped-multiline"},r.a.createElement("div",{class:"control"},l.usedIngredients.map((function(e){return r.a.createElement("div",{key:Object(R.a)(),class:"tags has-addons"},r.a.createElement("span",{class:"tag is-dark"},e.name),r.a.createElement("span",{class:"tag is-info"},e.amount," ",e.unit))}))))))):null,r.a.createElement("br",null),l.missedIngredients.length>0?r.a.createElement(T,null,r.a.createElement("table",{className:"table is-fullwidth is-striped is-hoverable"},r.a.createElement("thead",{className:"is-12 is-fullwidth "},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",className:"is-12"},"Missing Ingredients"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount")),l.missedIngredients.map((function(e){return r.a.createElement("tr",{key:Object(R.a)()},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.amount," ",e.unit))}))))):null,r.a.createElement("br",null),l.instructions.length>0?r.a.createElement(T,null,r.a.createElement("div",{className:"card-details card-instructions is-fullwidth"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-header-title card.details"},"Instructions")),r.a.createElement("div",{className:"card-content-details has-text-left"},r.a.createElement("ol",null,l.instructions.map((function(e){return r.a.createElement("li",{className:"instructions",key:Object(R.a)()}," ",r.a.createElement("strong",null,r.a.createElement("input",{className:"is-large",type:"checkbox"}))," ",e)})))))):null)},q=function(){var e=Object(n.useState)({id:"",cuisine:[],excludeCuisine:[],diet:[],intolerances:[],includeIngredients:[],excludeIngredients:[],recipes:[],savedRecipes:[],activeRecipe:0,activePage:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=function(e){return c(Object(i.a)(Object(i.a)({},a),e))},f=Object(d.b)(),g=f.isAuthenticated,p=f.user;return Object(n.useEffect)((function(){g?(l({id:p.email}),fetch("/db/get",{id:p.email}).then((function(e){return l(e)})).then((function(){return console.log("data loaded from server storage")})).catch((function(e){return console.log(e)}))):h.a.getItem("local").then((function(e){return l(e)})).then((function(){return console.log("data loaded from local storage")})).catch((function(e){return console.log(e)}))}),[g]),Object(n.useEffect)((function(){console.log(a),g&&(fetch("/db/set",{method:"POST",headers:{"Content-Type":"application.json"},body:JSON.stringify(a)}).then((function(){return console.log("data saved to server storage")})).catch((function(e){return console.log(e)})),h.a.setItem("local",a).then((function(){return console.log("data saved to local storage")})).catch((function(e){return console.log(e)})))}),[a]),r.a.createElement(m.Provider,{value:a},r.a.createElement(o.a,null,r.a.createElement(E,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{exact:!0,path:["/","/search"],render:function(){return r.a.createElement(J,{dispatch:l})}}),r.a.createElement(u.a,{exact:!0,path:"/library",render:function(){return r.a.createElement(V,{dispatch:l})}}),r.a.createElement(u.a,{exact:!0,path:"/settings",render:function(){return r.a.createElement(L,{dispatch:l})}}),r.a.createElement(u.a,{exact:!0,path:"/details",render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(U,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(d.a,{domain:"dev-t7jawcee.us.auth0.com",clientId:"4Sj3xSG8lGxCi51BzJhhsY88dG0QNAis",redirectUri:"https://saveeatrepeat.vercel.app/"},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.6470841e.chunk.js.map